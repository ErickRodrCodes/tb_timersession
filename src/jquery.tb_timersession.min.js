if(typeof Object.create!=='function'){Object.create=function(obj){function F(){};F.prototype=obj;return new F()}}(function($,window,document,undefined){var objectActions={currentTimer:0,timerobj:null,actionUser:false,startCounter:function(){var self=this;self.timerobj=setInterval(function(){self.timer()},1000)},timer:function(){var self=this;this.actionUser=false;this.currentTimer++;console.log(this.currentTimer);self.checkTimer(this.currentTimer)},init:function(options,elem){var self=this;options=options;self.elem=elem;self.options=$.extend(true,$.fn.tb_timersession.options,options);self.startCounter();$('body').bind('mousemove keypress',function(){self.detectHuman()})},detectHuman:function(){var self=this;clearInterval(this.timerobj);if(this.actionUser==false){if(this.currentTimer>10){$.get(self.options.keepaliveurl);this.actionUser=true;this.currentTimer=0;this.options.keepsessionaction()}}this.startCounter()},checkTimer:function(){var self=this;return $.grep(self.options.timers,function(n,i){if(n.time==self.currentTimer){if((self.options.timers.length-1)==i){window.location.href=self.options.logouturl}return n.action()}})}};$.fn.tb_timersession=function(options){return $(this).each(function(){var objectactions=Object.create(objectActions);objectactions.init(options,this)})};$.fn.tb_timersession.options={timers:[{time:10,action:function(){console.log('execution!')}}],keepaliveurl:"http://google.com",logouturl:"http://google.com",keepsessionaction:function(){}}})(jQuery,window.document);